import{a as g,S as h,i as l}from"./assets/vendor-rOMtvQ2t.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();async function b(e,o=0){const a=`https://pixabay.com/api/?${new URLSearchParams({key:"51145498-f51992c20e23a6f6f425bd97f",q:e,image_type:"photo",orientation:"horizontal",max_width:320,max_height:200,safesearch:"true",per_page:15,page:o+1})}`;return await g.get(a).then(t=>t.data.hits).catch(t=>(console.error("Ошибка",t),[]))}const L=new h(".gallery a",{caption:!0,captionDelay:250}),w=document.querySelector(".gallery");function d(e){let o="";e.forEach(r=>{o+=`<li> 
      <a href= ${r.largeImageURL} class="large-img">
       <img src=${r.webformatURL} class="small-img" alt="${r.tags}">
       </a>
       <div class="under-image-info">
       <p> <span> Likes </span> <br> ${r.likes} </p>
       <p> <span> Views </span> <br> ${r.views} </p>
       <p> <span> Comments </span> <br> ${r.comments} </p>
       <p> <span> Downloads </span> <br> ${r.downloads} </p>
       </div>

    </li> `}),w.insertAdjacentHTML("beforeend",o),L.refresh()}function S(){const e=document.querySelector(".gallery");e&&(e.innerHTML="")}function q(){const e=document.querySelector(".loader");e&&(e.style.display="block")}function v(){const e=document.querySelector(".loader");e&&(e.style.display="none")}const f=document.querySelector(".js-load-more-btn"),O=()=>f.style.display="block",p=()=>f.style.display="none",u=document.querySelector(".form");let s="",m="",i=0;u.addEventListener("submit",async function(e){e.preventDefault(),p(),i=0,s=u.elements["search-text"].value.trim(),m=s,S();const o=await y(i);d(o),o.length>=1&&O()});async function y(e){const o={position:"topRight",timeout:4e3,close:!0,progressBar:!0,icon:"fas fa-check",closeOnClick:!1,pauseOnHover:!0};try{q();const r=await b(s,e);return r.length===0?(l.warning({message:"Sorry, there are no images matching <br> your search query. Please try again!",color:"red",...o}),[]):r}catch(r){return l.error({message:`Oops, something went wrong! ${r}`,color:"red",...o}),[]}finally{v()}}const $=document.querySelector(".js-load-more-btn");$.addEventListener("click",async function(){if(m===s){i++;const e=await y(i);e.length>0?d(e):p()}});
//# sourceMappingURL=index.js.map
